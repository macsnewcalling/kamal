<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Microsoft Security Scan — </title>
  <style>
    :root{--bg:#0b0b0b;--panel:#070707;--accent:#111827}
    html,body{height:100%;margin:0;font-family:Consolas,Monaco,monospace,monospace;background:linear-gradient(180deg,#050505 0%, #0a0a0a 100%);color:#ddd}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:30px}
    .container{width:960px;max-width:96%;}

    /* Form */
    .card{background:var(--panel);border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:8px;box-shadow:0 8px 30px rgba(0,0,0,0.7)}
    label{display:block;font-size:13px;color:#9aa0a6;margin-bottom:6px}
    input[type=text],input[type=email]{width:100%;padding:10px;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:#060606;color:#fff;font-family:inherit}
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .actions{margin-top:12px;display:flex;gap:10px}
    button{padding:10px 14px;border-radius:6px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:#1570ef;color:#fff}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#ddd}

    /* CMD window */
    .cmd-wrap{margin-top:16px;background:#000;border-radius:6px;border:2px solid rgba(255,255,255,0.03);overflow:hidden}
    .cmd-title{background:linear-gradient(90deg,#0f172a,#021028);padding:10px 12px;color:#fff;font-weight:700;display:flex;justify-content:space-between;align-items:center}
    .cmd-title .title-left{display:flex;gap:10px;align-items:center}
    .dot{width:11px;height:11px;border-radius:50%;opacity:0.9}
    .dot.red{background:#ef4444}
    .dot.yellow{background:#f59e0b}
    .dot.green{background:#10b981}

    .cmd-body{padding:18px;height:420px;overflow:auto;background:linear-gradient(180deg,#000,#020202);color:#e6eef8;font-size:13px;line-height:1.5}
    .mono{font-family:Consolas,monospace}
    .line{white-space:pre-wrap}
    .muted{color:#8b9bb0}
    .white{color:#ffffff}
    .success{color:#7ee787}
    .danger{color:#ff6b6b}

    .report{background:#060606;border-radius:6px;padding:12px;margin-top:12px;color:#fff}
    .report .k{color:#9aa0a6}
    .hidden{display:none}

    @media (max-width:720px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="container">
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <h3 style="margin:0">Fake Microsoft-style Security Scanner</h3>
          <small class="muted">Demo only — harmless, simulated output</small>
        </div>

        <div id="formSection">
          <div class="grid">
            <div>
              <label for="name">Name</label>
              <input id="name" type="text" placeholder="Your name" value=""> 
            </div>
            <div>
              <label for="email">Email</label>
              <input id="email" type="email" placeholder="you@example.com" value="">
            </div>
            <div>
              <label for="phone">Phone</label>
              <input id="phone" type="text" placeholder="+91 9xxxxxxxxx">
            </div>
            <div>
              <label for="ssn">SSN / ID</label>
              <input id="ssn" type="text" placeholder="XXXX-XX-XXXX">
            </div>
            <div style="grid-column:1/3">
              <label for="ip">Local IP address (optional)</label>
              <input id="ip" type="text" placeholder="e.g. 192.168.0.101">
            </div>
          </div>

          <div class="actions">
            <button id="startBtn" class="btn-primary">Start Scan</button>
            <button id="previewBtn" class="btn-ghost">Preview Fake Output</button>
            <div style="flex:1"></div>
            <small class="muted">UI only — not a real security tool</small>
          </div>
        </div>

        <div id="cmdSection" class="hidden">
          <div class="cmd-wrap">
            <div class="cmd-title">
              <div class="title-left">
                <span class="dot red"></span>
                <span class="dot yellow"></span>
                <span class="dot green"></span>
                <span style="font-size:13px">Microsoft Security Scan</span>
              </div>
              <div style="font-size:12px;opacity:0.85">v1.0 · simulated output</div>
            </div>
            <div id="cmdBody" class="cmd-body mono" aria-live="polite"></div>
          </div>

          <div id="finalReport" class="report hidden"></div>

          <div style="display:flex;gap:8px;margin-top:10px;justify-content:flex-end">
            <button id="resetBtn" class="btn-ghost">Reset</button>
            <button id="downloadBtn" class="btn-primary">Download HTML</button>
          </div>
        </div>

      </div>
    </div>
  </div>

<script>
// ---------- Data to display (fake) ----------
const HACKER_NAMES = [
  'ZeroByte', 'NightRaven', 'BlackLotus', 'GhostNode', 'SpectreX', 'DarkOracle',
  'SilentEcho', 'RedViper', 'WhiteCrow', 'BlueWraith', 'IronFist', 'ShadowFox',
  'VenomPulse', 'HexCoder', 'NullPointer', 'RogueWave', 'BinarySage', 'CrypticOne',
  'Nebula', 'PhantomK', 'ViralMist', 'StormCrow', 'CipherQueen', 'PulseShift',
  'OmegaNine', 'DriftKing', 'LunarHawk', 'FrostByte', 'Maverick', 'Obsidian'
];
const COUNTRIES = ['Russia','China','Ukraine','Brazil','USA','Germany','India','Turkey','Romania','Netherlands','Sweden','Canada','Spain','Mexico','Israel','Iran','Vietnam','Singapore','Poland','Nigeria'];

// ---------- Utility ----------
function rand(a){return Math.floor(Math.random()*a)}
function randIP(){return `${rand(223)+1}.${rand(256)}.${rand(256)}.${rand(256)}`}

// ---------- DOM ----------
const startBtn = document.getElementById('startBtn');
const previewBtn = document.getElementById('previewBtn');
const formSection = document.getElementById('formSection');
const cmdSection = document.getElementById('cmdSection');
const cmdBody = document.getElementById('cmdBody');
const finalReport = document.getElementById('finalReport');
const resetBtn = document.getElementById('resetBtn');
const downloadBtn = document.getElementById('downloadBtn');

startBtn.addEventListener('click', ()=>runScan(false));
previewBtn.addEventListener('click', ()=>runScan(true));
resetBtn.addEventListener('click', resetAll);
downloadBtn.addEventListener('click', ()=>downloadThis());

function runScan(isPreview){
  // collect inputs
  const user = {
    name: document.getElementById('name').value || 'Unknown',
    email: document.getElementById('email').value || 'unknown@example.com',
    phone: document.getElementById('phone').value || 'N/A',
    ssn: document.getElementById('ssn').value || 'N/A',
    ip: document.getElementById('ip').value || 'N/A'
  };

  formSection.classList.add('hidden');
  cmdSection.classList.remove('hidden');
  cmdBody.innerHTML = '';
  finalReport.classList.add('hidden');

  // top header lines
  const intro = [
    'Initializing Microsoft Security Scan Engine...',
    `User: ${user.name}  Email: ${user.email}  Phone: ${user.phone}`,
    'Loading signature databases... OK',
    'Establishing remote threat feed... OK',
    'Beginning active scan. This is a simulated/demo scan — no network traffic is generated.'
  ];

  // generate 234 fake attackers but we'll reveal 30+ on-screen
  const totalHackers = 234; // will be shown in final report
  const shownHackers = 32; // number of lines to display dynamically

  let timeline = [];
  // intro lines
  intro.forEach((t,i)=> timeline.push({type:'text',text:t,delay:i*800}));

  timeline.push({type:'text',text:'',delay: intro.length*800});
  timeline.push({type:'text',text:'Scanning ports and exposed services...',delay:0});

  // add simulated progress
  for(let p=5;p<=100;p+=5){
    timeline.push({type:'progress',percent:p,delay:0});
  }

  timeline.push({type:'text',text:'Enumerating suspicious connections and intruder signatures...',delay:0});

  // add hacker lines
  for(let i=0;i<shownHackers;i++){
    const name = HACKER_NAMES[i % HACKER_NAMES.length] + (i>HACKER_NAMES.length?'-'+(i):'');
    const country = COUNTRIES[rand(COUNTRIES.length)];
    const ip = isPreview? randIP() : randIP();
    timeline.push({type:'hacker',text:`${padIndex(i+1,3)} | ${name} | ${country} | ${ip}`,delay:0});
  }

  timeline.push({type:'text',text:'',delay:0});
  timeline.push({type:'text',text:'Finalizing results...',delay:0});
  timeline.push({type:'final',data:user,delay:0});

  // Play timeline with typing effect
  playTimeline(timeline);
}

function padIndex(n, width){
  const s = String(n);
  return '0'.repeat(Math.max(0,width - s.length)) + s;
}

async function playTimeline(tl){
  // approximate total duration ~80-100 seconds depending on per-line delays
  const typingSpeed = 8; // ms per character
  for(let i=0;i<tl.length;i++){
    const item = tl[i];
    if(item.type === 'text'){
      await typeLine(item.text, typingSpeed);
      await wait(400);
    }else if(item.type === 'progress'){
      await renderProgress(item.percent);
    }else if(item.type === 'hacker'){
      await typeLine(item.text, 9);
      await wait(120); // quick pause between hacker lines
    }else if(item.type === 'final'){
      await wait(700);
      showFinalReport(item.data);
      break;
    }
  }
}

function typeLine(text, speed){
  return new Promise(resolve => {
    const line = document.createElement('div');
    line.className = 'line';
    cmdBody.appendChild(line);
    cmdBody.scrollTop = cmdBody.scrollHeight;
    let i=0;
    const t = setInterval(()=>{
      line.textContent += text.charAt(i);
      i++;
      cmdBody.scrollTop = cmdBody.scrollHeight;
      if(i>=text.length){
        clearInterval(t);
        resolve();
      }
    }, speed);
    if(text.length===0){ clearInterval(t); resolve(); }
  })
}

function renderProgress(percent){
  return new Promise(async resolve=>{
    const barLine = document.createElement('div');
    barLine.className='line';
    const total = 36;
    for(let p=0;p<=percent;p++){
      const filled = Math.round((p/100)*total);
      const bar = '[' + '#'.repeat(filled) + ' '.repeat(total-filled) + `] ${p}%`;
      barLine.textContent = bar;
      if(p%5===0){ cmdBody.appendChild(barLine.cloneNode(true)); }
      cmdBody.scrollTop = cmdBody.scrollHeight;
      await wait(40);
    }
    resolve();
  })
}

function wait(ms){return new Promise(r=>setTimeout(r,ms));}

function showFinalReport(user){
  // show markers in cmd
  const summaryLines = [
    'SUMMARY: Scan complete.',
    `Detected malicious actors: 234`,
    `Detected malware signatures: 31`,
    `Security level: 9% (Poor)`
  ];
  summaryLines.forEach((s)=>{ const d=document.createElement('div'); d.className='line white'; d.textContent=s; cmdBody.appendChild(d); });
  cmdBody.appendChild(document.createElement('div'));

  // Final report panel
  finalReport.innerHTML = `
    <div style="font-weight:700;margin-bottom:6px">Final Report</div>
    <div><span class="k">Name:</span> ${escapeHtml(user.name)}</div>
    <div><span class="k">Email:</span> ${escapeHtml(user.email)}</div>
    <div><span class="k">Phone:</span> ${escapeHtml(user.phone)}</div>
    <div><span class="k">SSN/ID:</span> ${escapeHtml(user.ssn)}</div>
    <div><span class="k">Local IP:</span> ${escapeHtml(user.ip)}</div>
    <hr style="opacity:0.06;margin:10px 0">
    <div style="display:flex;gap:12px;flex-wrap:wrap">
      <div><strong>Security level</strong><div class="muted">9% — POOR</div></div>
      <div><strong>Viruses found</strong><div class="muted">31</div></div>
      <div><strong>Hackers flagged</strong><div class="muted">234</div></div>
    </div>
    <div style="margin-top:10px;font-size:12px;color:#9aa0a6">Note: This is a simulated UI for entertainment/demonstration. It does not perform real network scans or contact external systems.</div>
  `;
  finalReport.classList.remove('hidden');
  // focus end
  cmdBody.scrollTop = cmdBody.scrollHeight;
}

function escapeHtml(s){
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function resetAll(){
  formSection.classList.remove('hidden');
  cmdSection.classList.add('hidden');
  cmdBody.innerHTML='';
  finalReport.innerHTML='';
}

function downloadThis(){
  const html = `<!doctype html>\n${document.documentElement.outerHTML}`;
  const blob = new Blob([html],{type:'text/html'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download='fake-microsoft-security-scan.html'; document.body.appendChild(a); a.click(); a.remove();
}

</script>
</body>
</html>
